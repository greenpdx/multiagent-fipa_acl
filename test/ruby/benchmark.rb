require 'profile'
#require File.join(File.dirname(__FILE__),'../lib/FipaMessage')
require File.join(File.dirname(__FILE__),'../lib/fipa-message')

class FipaBenchmark

 def initialize
   msg = FipaMessage.new
   msg.setPerformative "inform"
   #msg.setContent "a"   
   msg.setContent "asdkfjasldkfjasöldkfjasöldkfjasölkfjasökdfadsfa asdfasdlfkajsdfölkasjdfölaksjdfölaksjdfaölskdjfasölkdfjasölkdfjasöldkfjasöldkfjasöldkfjasöldkfjasöldkfjasöldfjaösldjfasdfasdfasdfasldkfjaöslkdfjasöldfkjasödlfkjasödlkfjasdölkfjasdölfkajsdfölkasjdfölkasjdfölsakjdfsaölkdjfasölkdfjasölkdfjasöldkfjasölkdfjasöldkfjasöldkfjasödlkgfwioerupqoiwruowqiureskgjöalsk310347iusajlkfjasdklfjasöldkf210934709tusalkgjasöldkfjaslköf102947uiewaujfaklfjalkäaaskdfjaöslkdfjasöldkfjasölkdfjasölkdfjasölkdfjasöldkfjasölkdfjasölkdfjasölkdfjasölkdfjasölkdfjaslökdfjasöldkfjasdkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkwooooooooooooooooooo44444445555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555asdfasdlfkajsdfölkasjdfölaksjdfölaksjdfaölskdjfasölkdfjasölkdfjasöldkfjasöldkfjasöldkfjasöldkfjasöldkfjasöldfjaösldjfasdfasdfasdfasldkfjaöslkdfjasöldfkjasödlfkjasödlkfjasdölkfjasdölfkajsdfölkasjdfölkasjdfölsakjdfsaölkdjfasölkdfjasölkdfjasöldkfjasölkdfjasöldkfjasöldkfjasödlkgfwioerupqoiwruowqiureskgjöalsk310347iusajlkfjasdklfjasöldkf210934709tusalkgjasöldkfjaslköf102947uiewaujfaklfjalkäaaskdfjaöslkdfjasöldkfjasölkdfjasölkdfjasölkdfjasöldkfjasölkdfjasölkdfjasölkdfjasölkdfjasölkdfjaslökdfjasöldkfjasdkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkwooooooooooooooooooo44444445555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555"

   #@content = msg.to_byte_array
   #content = @content.pack("C*")
   content = FipaUtils.serialize(msg)

   file =  File.open("test","w")
   file.write(content)
   file.close

 end

 def readMessage
  file = File.open("test","r")
  content = file.read
  file.close

  (1..1000).each do |i|
     msg = FipaUtils.deserialize(content)
     # msg = FipaMessage.new
     # msg.from_byte_string content
     # puts msg.getPerformative
  end

 end

end


fb = FipaBenchmark.new
fb.readMessage

